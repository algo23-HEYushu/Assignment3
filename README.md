# assignment3
##风险模糊度计算步骤
1. 根据高频数据处理传统，剔除开盘后15分钟和收盘前15分钟的价格数据，避免波动异常值的影响；
2. 根据5分钟K线的涨跌幅计算的当日日内波动率，41个样本点；
3. 对日内标准差在横截面上进行标准化处理，计算Z-score值；
4. 使用标准化后的日内波动率计算标准差得到风险模糊度。

回测时间为2018-2022，共5年。

##数据处理.ipynb
1. 完成前两步计算得到日内波动率，因数据过大，压缩为zip格式。
2. 中证1000成分股5mink线数据过大，且以某一股票在某一段时间内的格式储存，所以分批手动读入数据，每批数据处理后（完成第三步）再合并。
原数据集过大，在data文件夹里给出一个文件作为示例；
3. 2017年年末到2022年年末，5年时间一共调整了21次中证1000成分股，手动5次读取数据。
4. data0为手动第一批读入的数据计算得到的日内波动率，data0为中间文件的示例。
##计算风险模糊度.ipynb
1. 整合每批数据计算得到的日内波动率（读入中间文件合并），得到所有时间内所有成分股的日内波动率
2. 计算日间波动率，滚动周期为41天，和每天5分钟k线样本点数量保持一致。
##策略执行.ipynb
1. 画出风险模糊度IC表现
2. 因子暴露值最小的100只股票作为持仓，等权重持仓，持仓每月末调整。

###待完成
1. 没有考虑手续费
2. 没有对因子进行行业中性化
3. 没有全市场选股
4. 没有和benchmark对比收益
5. 没有封装策略
6. 没有考虑怎么优化股票持仓比例，只考虑了等权重持仓的形式。
